{% extends 'base.html' %}
{% block content %}

<div class="inline-block">
    <h1 class="head">All Recipes</h1>
</div>
<div class="inline-block">
    <!-- check if user is logged in -->
    {% if logged_in %}
    <a class="waves-effect waves-light btn-large" href="{{url_for('add_recipe')}}"><i
            class="material-icons left">add</i>Add a recipe</a>
    {% else %}
    <!-- if not logged display modal with log in, sign up links -->
    <a class="waves-effect waves-light btn-large modal-trigger" href="#not-logged-in"><i
            class="material-icons left">add</i>Add a recipe</a>


    <div id="not-logged-in" class="modal">
        <div class="modal-content">
            <h4>Uh-Oh... You are not logged in</h4>
            <p>You need to be logged in to add a recipe.</p>
        </div>
        <div class="modal-footer">
            <a href="{{url_for('log_in')}}" class="modal-close waves-effect waves-green btn-flat">Log In</a>
            <a href="{{url_for('sign_up')}}" class="modal-close waves-effect waves-green btn-flat">Become a member</a>
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
        </div>
    </div>
    {% endif %}
</div>


<div class="row">
    {% for recipe in recipes %}
    <div class="col s12 m4">
        <div class="card medium">
            <div class="card-image">
                <img src="{{recipe.image}}">
                <span class="card-title"><strong>{{recipe.recipe_name}}</strong></span>
            </div>
            <div class="card-content">
                <p>Recipe Category:</strong>
                    {% for cat in cat_list %}
                    {% if cat['category_name'] == recipe.category_name %}
                    {{cat['category_name'].capitalize()}}
                    {% endif %}
                    {% endfor %}</strong> </p>
                <p>Skill Level:
                    {% if recipe.skill_level == 1 %}
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    {% elif recipe.skill_level == 2 %}
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    {% elif recipe.skill_level == 3 %}
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_unchecked</i>
                    {% elif recipe.skill_level == 4 %}
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    <i class="material-icons">radio_button_checked</i>
                    {% endif %}
                </p>
            </div>
            <div class="card-action">
                <a href="{{url_for('display_recipe', recipe_id=recipe._id)}}"><strong>Bake It!</strong></a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>



{% endblock %}